# /etc/cron.d/php@PHP_VERSION@: crontab fragment for PHP
#  This purges session files in session.save_path older than X,
#  where X is defined in seconds as the largest value of
#  session.gc_maxlifetime from all your SAPI php.ini files
#  or 24 minutes if not defined.  The script triggers only
#  when session.save_handler=files.
#
#  WARNING: The scripts tries hard to honour all relevant
#  session PHP options, but if you do something unusual
#  you have to disable this script and take care of your
#  sessions yourself.

# Look for and purge old sessions every 30 minutes
09,39 *     * * *     root   [ -x /usr/lib/php/sessionclean ] && /usr/lib/php/sessionclean

# eqpress php sessions
# FIXME - a script needs to be written for this for new php7.0+ setup
15,45 *     * * *     root   [ -x /usr/lib/php5/maxlifetime ] && find /var/www/*/wordpress/.sessions -type f -cmin +$(/usr/lib/php5/maxlifetime) -print0 2> /dev/null | xargs -n 200 -r -0 rm
